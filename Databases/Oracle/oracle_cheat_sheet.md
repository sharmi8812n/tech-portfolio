### Oracle SQL Cheat Sheet with Command Uses

## 1. Connecting to Oracle
sqlplus username/password@hostname:port/service_name
Use: Connect to an Oracle database from command line.

## 2. Basic Data Retrieval
SELECT * FROM employees;
Use: Retrieve all rows and columns from the employees table.
SELECT first_name, last_name FROM employees WHERE department_id = 10;
Use: Retrieve specific columns with a filter.

## 3. Insert Data
INSERT INTO employees (employee_id, first_name, last_name, hire_date)
VALUES (101, 'John', 'Doe', SYSDATE);
Use: Add a new row to a table; SYSDATE inserts current date/time.

## 4. Update Data
UPDATE employees SET salary = salary * 1.1 WHERE employee_id = 101;
Use: Modify existing rows (e.g., give a 10% raise).

## 5. Delete Data
DELETE FROM employees WHERE employee_id = 101;
Use: Remove rows from a table based on condition.

## 6. Create Table
CREATE TABLE tasks (
  task_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  title VARCHAR2(100),
  description VARCHAR2(4000),
  due_date DATE,
  status VARCHAR2(20)
);
Use: Define a new table with columns and constraints.

## 7. Alter Table
ALTER TABLE tasks ADD (priority VARCHAR2(10));
Use: Add a new column to an existing table.
ALTER TABLE tasks DROP COLUMN priority;
Use: Remove a column from a table.

## 8. Drop Table
DROP TABLE tasks;
Use: Permanently delete a table and its data.

## 9. Constraints

Primary Key
ALTER TABLE employees ADD CONSTRAINT emp_pk PRIMARY KEY (employee_id);
Use: Enforce uniqueness and identify each row uniquely.

Foreign Key
ALTER TABLE employees ADD CONSTRAINT dept_fk FOREIGN KEY (department_id)
REFERENCES departments(department_id);
Use: Ensure referential integrity between tables.

Unique
ALTER TABLE employees ADD CONSTRAINT email_uk UNIQUE (email);
Use: Ensure column values are unique across rows.

## 10. Joins
SELECT e.first_name, d.department_name
FROM employees e
JOIN departments d ON e.department_id = d.department_id;
Use: Combine rows from two tables where related.

SELECT e.first_name, d.department_name
FROM employees e
LEFT JOIN departments d ON e.department_id = d.department_id;
Use: Retrieve all employees even if they have no department.

## 11. Aggregate Functions
SELECT department_id, COUNT(*) AS employee_count, AVG(salary) AS avg_salary
FROM employees
GROUP BY department_id
HAVING AVG(salary) > 5000;
Use: Summarize data by groups; filter groups with HAVING.

## 12. Sequences
CREATE SEQUENCE task_seq START WITH 1 INCREMENT BY 1;
Use: Generate unique incremental numbers (e.g., for IDs).

INSERT INTO tasks (task_id, title) VALUES (task_seq.NEXTVAL, 'New Task');
Use: Use sequence value in inserts.

## 13. PL/SQL Block
DECLARE
  v_count NUMBER;
BEGIN
  SELECT COUNT(*) INTO v_count FROM employees;
  DBMS_OUTPUT.PUT_LINE('Number of employees: ' || v_count);
END;
/
Use: Execute procedural code, variable declaration, and output.

## 14. Transaction Control
COMMIT;
Use: Permanently save all changes made in the current transaction.

ROLLBACK;
Use: Undo changes made since last commit.

SAVEPOINT sp1;
Use: Create a named point in a transaction to rollback to.

ROLLBACK TO sp1;
Use: Undo changes back to the savepoint.

## 15. Data Types
Data Type	      Use
NUMBER	        Store numeric values
VARCHAR2(n)	    Store variable-length strings
DATE	          Store date and time
CLOB	          Store large text
BLOB	          Store binary data (images, files)

## 16. Helpful Views
SELECT * FROM user_tables;
Use: List tables owned by current user.

SELECT * FROM all_tables;
Use: List all tables accessible to user.

SELECT * FROM user_constraints;
Use: View constraints defined on tables.

SELECT * FROM user_sequences;
Use: List sequences owned by user.

## 17. Describe Table Structure
DESC employees;
Use: Show columns, data types, and nullability of a table.

## 18. Explain Query Plan
EXPLAIN PLAN FOR
SELECT * FROM employees WHERE department_id = 10;
SELECT * FROM TABLE(DBMS_XPLAN.DISPLAY);
Use: Analyze how Oracle executes a query for optimization.

## 19. Enable Output in SQL*Plus
SET SERVEROUTPUT ON;
Use: Enable printing output from PL/SQL DBMS_OUTPUT.PUT_LINE.
